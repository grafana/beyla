{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:best-practices", "helpers:pinGitHubActionDigestsToSemver"],
  ignorePaths: [
    // OBI submodule - managed by submodule updates, not Renovate
    ".obi-src/**",

    // Extension manifests are owned by the integration test suite
    "internal/test/beyla_extensions/k8s/manifests/**",

    // github.com/Shopify/sarama has been moved to github.com/IBM/sarama
    // but we keep supporting the go-offsets for the outdated library, which must not
    // be updated.
    "configs/offsets/shopify/**",
    "vendor/**",
  ],
  packageRules: [
    {
      groupName: "all patch and digest versions",
      matchUpdateTypes: ["patch", "digest"],
      schedule: ["before 8am on Monday"],
      // group all patches in a single PR
      matchPackageNames: ["*"],
    },
    {
      matchUpdateTypes: ["minor", "major"],
      schedule: ["before 8am on Monday"],
    },
  ],
  labels: ["dependencies"],
}
