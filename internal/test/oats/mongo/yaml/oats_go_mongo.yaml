docker-compose:
  generator: generic
  files:
    - ../docker-compose-go-mongo.yml
input:
  - path: "/mongo"
interval: 500ms
expected:
  traces:
    - traceql: '{ .http.route = "/mongo" }'
      spans:
        - name: "GET /mongo"
          attributes:
            server.port: "8080"
            url.path: "/mongo"
    - traceql: '{ .db.operation.name = "insert" && .db.system.name = "mongodb" }'
      spans:
        - name: "insert testdb.items"
          attributes:
            db.collection.name: testdb.items
            server.port: "27017"
