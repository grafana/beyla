version: '2'
services:
  go-json:
    image: golang:1.25@sha256:bc45dfd319e982dffe4de14428c77defe5b938e29d9bc6edfbc0b9a1fc171cb3
    volumes:
      - '.:/go/src/go-json'
    deploy:
      resources:
        limits:
          memory: 620M
    working_dir: /go/src/go-json
    command: |
      sh -c "go test -c . && ls go-json.test"
